# Application Name
spring.application.name=Toghrak X

# -------------------------------
# DATABASE CONFIGURATION
# -------------------------------
spring.datasource.url=jdbc:postgresql://localhost:5432/blogdb
spring.datasource.username=${DB_USERNAME:bloguser}
spring.datasource.password=${DB_PASSWORD:admin}
spring.datasource.driver-class-name=org.postgresql.Driver

# -------------------------------
# IMAGE UPLOAD AND ACCESS
# -------------------------------
# Base directory for uploaded images (ensure this directory exists or your app can create it)
app.image.upload-dir=${IMAGE_UPLOAD_DIR:../uploads}

# Base URL for accessing images (for local development you might use something like http://localhost:8081/images/)
app.image.base-url=${IMAGE_BASE_URL:http://localhost:8081/images/}


# -------------------------------
# HIKARICP (CONNECTION POOL) SETTINGS
# -------------------------------
spring.datasource.hikari.auto-commit=false
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=15
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=1800000
# Connection timeout in milliseconds (20 seconds)
spring.datasource.hikari.connection-timeout=20000

# -------------------------------
# JPA / HIBERNATE SETTINGS
# -------------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.default_batch_fetch_size=50
spring.jpa.open-in-view=false
spring.sql.init.mode=never

# -------------------------------
# JWT CONFIGURATION
# -------------------------------
# JWT secret should be at least 64 characters long for HS512.
# For production, set JWT_SECRET env. The default below is only for local dev.
app.jwt.secret=${JWT_SECRET:ThisIsASecretKeyForJWTThatShouldBeAtLeast64CharactersLong!1234567890}
app.jwt.expiration=${JWT_EXPIRATION:1800000}
app.refresh.expiration=${REFRESH_EXPIRATION:43200000}
app.refresh.cookie.secure=${REFRESH_COOKIE_SECURE:false}
app.refresh.cookie.domain=${REFRESH_COOKIE_DOMAIN:}

# -------------------------------
# DEFAULT ADMIN CREDENTIALS (FOR DATA SEEDING)
# The very first admin username and userpassword created on app startup (DEFAULT_ADMIN_USERNAME, DEFAULT_ADMIN_EMAIL,DEFAULT_ADMIN_PASSWORD)
# -------------------------------
default.admin.username=${DEFAULT_ADMIN_USERNAME:admin}
default.admin.email=${DEFAULT_ADMIN_EMAIL:admin@example.com}
default.admin.password=${DEFAULT_ADMIN_PASSWORD:admin}


# -------------------------------
# SERVER SETTINGS
# -------------------------------
server.port=8081
server.error.include-message=always
server.error.whitelabel.enabled=false

# -------------------------------
# MULTIPART / UPLOAD LIMITS
# -------------------------------
# Increase if logo/image uploads are rejected with MaxUploadSizeExceededException
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# -------------------------------
# SECURITY TOGGLES
# -------------------------------
# Set to false in production to restrict Swagger to ADMIN only
app.security.swagger-public=true
