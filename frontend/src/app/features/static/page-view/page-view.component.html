<div class="page-shell">
  @if (loading) {
    <div class="alert alert-info">Loading...</div>
  }
  @if (error) {
    <div class="alert alert-danger">{{ error }}</div>
  }

  @if (page && !loading) {
    <section class="page-hero">
      @if (page.images; as imgs) {
        <div class="hero-image" [class.hidden]="imgs.length === 0">
          <img [src]="imgs[0]" alt="Page hero image" loading="lazy" />
        </div>
      }
      <div class="hero-copy">
        <div class="accent"></div>
        <h1 class="page-title">{{ page.title }}</h1>
        @if (page.updatedAt) {
          <div class="page-meta">Updated: {{ page.updatedAt | date: 'mediumDate' }}</div>
        }
        <div class="page-content">{{ page.content }}</div>
      </div>
    </section>
    @if (page.images; as imgs) {
      <section class="page-gallery">
        @if (imgs.length > 1) {
          <div class="gallery-header">Gallery</div>
          <div class="page-gallery-grid">
            @for (img of imgs.slice(1); track img) {
              <img [src]="img" alt="Page gallery image" loading="lazy" />
            }
          </div>
        }
      </section>
    }
  }
</div>
